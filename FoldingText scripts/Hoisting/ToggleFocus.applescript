property pTitle : "Toggle Focus"property pVer : "0.02"-- Ver 2 updates the value of pstrAll – the path of an unfocused document-- which changed at some point in FTproperty pstrAll : "///*"property pstrSubTree : "/descendant-or-self::*"-- TOGGLE FOCUS IN AND OUT OF SUB-TREE OF ANY SELECTED LINEtell application "FoldingText"	set lstDocs to documents	if lstDocs ≠ {} then		tell item 1 of lstDocs			set recSeln to read selection			if recSeln is not missing value then				set str to (read node path)				if (read node path) = pstrAll then					-- FOCUS ON THE SUBTREES OF THE SELECTED NODE(S)					update node path with text ((nodepath of recSeln) & pstrSubTree)				else					-- WIDEN THE FOCUS AGAIN ...					update node path with text pstrAll				end if								-- AND RESTORE THE SELECTION				update selection with changes recSeln			end if		end tell	end ifend tell